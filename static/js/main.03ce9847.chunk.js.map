{"version":3,"sources":["components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","services/article-api.js","services/mapper.js","components/App/App.jsx","index.jsx","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","valueSearchBarr","handleInput","event","value","target","setState","handleSubmit","preventDefault","props","onSubmit","resetSearchBarr","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","placeholder","onChange","Component","ImageGalleryItem","src","largeImage","alt","ImageGalleryItemImage","data-large_image","ImageGallery","openModal","articles","onClick","role","map","id","webformatURL","largeImageURL","key","Button","onClickButton","Modal","overletRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","srcModalImage","Overlay","ref","onKeyDown","articleAPI","searchQuery","searchPage","axios","get","mapper","App","searchValue","isLoading","error","isModalOpen","modalImage","addSearchValue","toLowerCase","handleAddMore","prevState","fatchArticles","then","data","hits","catch","finally","nodeName","dataset","large_image","closeModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","color","height","Loader","message","ReactDOM","render","getElementById"],"mappings":"kIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,OAAS,sB,mBCAlDD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,4LCiDZC,E,2MA3CbC,MAAQ,CACNC,gBAAiB,I,EAGnBC,YAAc,SAAAC,GAAU,IACdC,EAAUD,EAAME,OAAhBD,MACR,EAAKE,SAAS,CAAEL,gBAAiBG,K,EAGnCG,aAAe,SAAAJ,GACbA,EAAMK,iBACN,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,iBAC/B,EAAKU,mB,EAGPA,gBAAkB,WAChB,EAAKL,SAAS,CAAEL,gBAAiB,M,wEAGzB,IACAA,EAAoBW,KAAKZ,MAAzBC,gBAER,OACE,4BAAQY,UAAWC,IAAOf,WACxB,0BAAMc,UAAWC,IAAOC,WAAYL,SAAUE,KAAKL,cACjD,4BAAQS,KAAK,SAASH,UAAWC,IAAOG,kBACtC,0BAAMJ,UAAWC,IAAOI,uBAAxB,WAGF,2BACEL,UAAWC,IAAOK,gBAClBH,KAAK,OACLI,aAAa,MACbC,YAAY,2BACZjB,MAAOH,EACPqB,SAAUV,KAAKV,oB,GAtCHqB,a,gBCgBTC,EAhBU,SAAC,GAAD,IAAGC,EAAH,EAAGA,IAAKC,EAAR,EAAQA,WAAR,OACvB,wBAAIb,UAAWC,IAAOU,kBACpB,yBACEC,IAAKA,EACLE,IAAI,GACJd,UAAWC,IAAOc,sBAClBC,mBAAkBH,M,iBCuBTI,EA5BM,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,SACjC,OACE,wBAAInB,UAAWC,IAAOgB,aAAcG,QAASF,EAAWG,KAAK,gBAC1DF,EAASG,KAAI,YAA0C,IAAvCC,EAAsC,EAAtCA,GAAIC,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,cACjC,OACE,kBAAC,EAAD,CACEb,IAAKY,EACLE,IAAKH,EACLV,WAAYY,EACZP,UAAWA,S,iBCARS,EAVA,SAAC,GAAD,IAAGC,EAAH,EAAGA,cAAH,OACb,4BAAQzB,KAAK,SAASH,UAAWC,IAAO0B,OAAQP,QAASQ,GAAzD,c,iBC6CaC,E,2MAxCbC,WAAaC,sB,EAUbC,eAAiB,SAAA1C,GACI,WAAfA,EAAM2C,MAEV,EAAKrC,MAAMsC,W,EAGbC,oBAAsB,SAAA7C,GAAU,IACtB8C,EAAY,EAAKN,WAAjBM,QAEJA,GAAW9C,EAAME,SAAW4C,GAEhC,EAAKxC,MAAMsC,W,mFAlBXG,OAAOC,iBAAiB,UAAWvC,KAAKiC,kB,6CAIxCK,OAAOE,oBAAoB,UAAWxC,KAAKiC,kB,+BAiBnC,IACAQ,EAAkBzC,KAAKH,MAAvB4C,cACR,OACE,yBACExC,UAAWC,IAAOwC,QAClBC,IAAK3C,KAAK+B,WACVV,QAASrB,KAAKoC,oBACdQ,UAAW5C,KAAKiC,eAChBX,KAAK,gBAEL,yBAAKT,IAAK4B,EAAexC,UAAWC,IAAO4B,MAAOf,IAAI,U,GAxC1CJ,a,iBCMLkC,EALI,SAACC,EAAaC,GAAd,OACjBC,IAAMC,IAAN,UAJe,2BAIf,cACmBH,EADnB,iBACuCC,EADvC,gBAHe,qCAGf,0DCDaG,EALA,SAAA9B,GAAQ,OACrBA,EAASG,KAAI,YACX,MAAO,CAAEC,GAD2C,EAAtCA,GACDC,aADuC,EAAlCA,aACSC,cADyB,EAApBA,mB,iBCwGrByB,G,iNA7Fb/D,MAAQ,CACNgE,YAAa,GACbL,WAAY,EACZ3B,SAAU,GACViC,WAAW,EACXC,MAAO,KACPC,aAAa,EACbC,WAAY,M,EAoBdC,eAAiB,SAAAjE,GACf,EAAKE,SAAS,CACZ0D,YAAa5D,EAAMkE,cACnBX,WAAY,EACZ3B,SAAU,M,EAIduC,cAAgB,WACd,EAAKjE,UAAS,SAAAkE,GAAS,MAAK,CAAEb,WAAYa,EAAUb,WAAa,O,EAGnEc,cAAgB,SAACT,EAAaL,GAC5B,EAAKrD,SAAS,CAAE2D,WAAW,IAE3BR,EAAWO,EAAaL,GACrBe,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJ,EAAKrE,UAAS,SAAAkE,GAAS,MAAK,CAC1BxC,SAAS,GAAD,mBAAMwC,EAAUxC,UAAhB,YAA6B8B,EAAOa,EAAKC,eAGpDC,OAAM,SAAAX,GAAK,OAAI,EAAK5D,SAAS,CAAE4D,aAC/BY,SAAQ,kBAAM,EAAKxE,SAAS,CAAE2D,WAAW,Q,EAG9ClC,UAAY,SAAA5B,GAAU,IACZE,EAAWF,EAAXE,OACgB,QAApBA,EAAO0E,UACX,EAAKzE,SAAS,CACZ6D,aAAa,EACbC,WAAY/D,EAAO2E,QAAQC,e,EAI/BC,WAAa,WACX,EAAK5E,SAAS,CAAE6D,aAAa,EAAOC,WAAY,Q,kFApD/Be,EAAWX,GAAY,IAAD,EACO5D,KAAKZ,MAA3CgE,EAD+B,EAC/BA,YAAaL,EADkB,EAClBA,WAAY3B,EADM,EACNA,SAE/BwC,EAAUR,cAAgBA,GAC1BQ,EAAUb,aAAeA,GAEzB/C,KAAK6D,cAAcT,EAAaL,GAG9Ba,EAAUxC,WAAaA,GACzBkB,OAAOkC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,+BA2CN,IAAD,EACyD7E,KAAKZ,MAA7DgC,EADD,EACCA,SAAUiC,EADX,EACWA,UAAWE,EADtB,EACsBA,YAAaC,EADnC,EACmCA,WAAYF,EAD/C,EAC+CA,MAEtD,OACE,yBAAKrD,UAAWC,IAAOiD,KACrB,kBAAC,EAAD,CAAWrD,SAAUE,KAAKyD,iBACzBrC,EAAS0D,OAAS,GACjB,kBAAC,EAAD,CAAc1D,SAAUA,EAAUD,UAAWnB,KAAKmB,YAEnDkC,EACC,kBAAC,IAAD,CACEjD,KAAK,YACL2E,MAAM,MACNC,OAAQ,GACR/E,UAAWC,IAAO+E,SAGpB7D,EAAS0D,OAAS,GAAK,kBAAC,EAAD,CAAQjD,cAAe7B,KAAK2D,gBAEpDL,GAAS,4DAAkCA,EAAM4B,SACjD3B,GACC,kBAAC,EAAD,CAAOd,cAAee,EAAYrB,QAASnC,KAAKsE,kB,GAvFxC3D,cCPlBwE,IAASC,OAAO,kBAAC,EAAD,MAASV,SAASW,eAAe,U,kBCHjDpG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,kBCAhPD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,mD","file":"static/js/main.03ce9847.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3gh8s\",\"Modal\":\"Modal_Modal__2YSDl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1bvgS\",\"Loader\":\"App_Loader__-VXm0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3oVX5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ReCq\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  static propTypes = { onSubmit: PropTypes.func.isRequired };\n\n  state = {\n    valueSearchBarr: '',\n  };\n\n  handleInput = event => {\n    const { value } = event.target;\n    this.setState({ valueSearchBarr: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.valueSearchBarr);\n    this.resetSearchBarr();\n  };\n\n  resetSearchBarr = () => {\n    this.setState({ valueSearchBarr: '' });\n  };\n\n  render() {\n    const { valueSearchBarr } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n            value={valueSearchBarr}\n            onChange={this.handleInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ src, largeImage }) => (\n  <li className={styles.ImageGalleryItem}>\n    <img\n      src={src}\n      alt=\"\"\n      className={styles.ImageGalleryItemImage}\n      data-large_image={largeImage}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  largeImage: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ openModal, articles }) => {\n  return (\n    <ul className={styles.ImageGallery} onClick={openModal} role=\"presentation\">\n      {articles.map(({ id, webformatURL, largeImageURL }) => {\n        return (\n          <ImageGalleryItem\n            src={webformatURL}\n            key={id}\n            largeImage={largeImageURL}\n            openModal={openModal}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  articles: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClickButton }) => (\n  <button type=\"button\" className={styles.Button} onClick={onClickButton}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClickButton: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    srcModalImage: PropTypes.string.isRequired,\n  };\n\n  overletRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = event => {\n    if (event.code !== 'Escape') return;\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = event => {\n    const { current } = this.overletRef;\n\n    if (current && event.target !== current) return;\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { srcModalImage } = this.props;\n    return (\n      <div\n        className={styles.Overlay}\n        ref={this.overletRef}\n        onClick={this.handleBackdropClick}\n        onKeyDown={this.handleKeyPress}\n        role=\"presentation\"\n      >\n        <img src={srcModalImage} className={styles.Modal} alt=\"\" />\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst USER_KEY = '13080993-ef0fc8e255e06bc4fd233c1c4';\n\nconst articleAPI = (searchQuery, searchPage) =>\n  axios.get(\n    `${BASE_URL}?q=${searchQuery}&page=${searchPage}&key=${USER_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n\nexport default articleAPI;\n","const mapper = articles =>\n  articles.map(({ id, webformatURL, largeImageURL }) => {\n    return { id, webformatURL, largeImageURL };\n  });\n\nexport default mapper;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport articleAPI from '../../services/article-api';\nimport mapper from '../../services/mapper';\nimport styles from './App.module.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    searchValue: '',\n    searchPage: 1,\n    articles: [],\n    isLoading: false,\n    error: null,\n    isModalOpen: false,\n    modalImage: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchValue, searchPage, articles } = this.state;\n    if (\n      prevState.searchValue !== searchValue ||\n      prevState.searchPage !== searchPage\n    ) {\n      this.fatchArticles(searchValue, searchPage);\n    }\n\n    if (prevState.articles !== articles) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  addSearchValue = value => {\n    this.setState({\n      searchValue: value.toLowerCase(),\n      searchPage: 1,\n      articles: [],\n    });\n  };\n\n  handleAddMore = () => {\n    this.setState(prevState => ({ searchPage: prevState.searchPage + 1 }));\n  };\n\n  fatchArticles = (searchValue, searchPage) => {\n    this.setState({ isLoading: true });\n\n    articleAPI(searchValue, searchPage)\n      .then(({ data }) =>\n        this.setState(prevState => ({\n          articles: [...prevState.articles, ...mapper(data.hits)],\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  openModal = event => {\n    const { target } = event;\n    if (target.nodeName !== 'IMG') return;\n    this.setState({\n      isModalOpen: true,\n      modalImage: target.dataset.large_image,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false, modalImage: null });\n  };\n\n  render() {\n    const { articles, isLoading, isModalOpen, modalImage, error } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.addSearchValue} />\n        {articles.length > 0 && (\n          <ImageGallery articles={articles} openModal={this.openModal} />\n        )}\n        {isLoading ? (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"Red\"\n            height={20}\n            className={styles.Loader}\n          />\n        ) : (\n          articles.length > 0 && <Button onClickButton={this.handleAddMore} />\n        )}\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n        {isModalOpen && (\n          <Modal srcModalImage={modalImage} onClose={this.closeModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__lut6W\",\"SearchForm\":\"Searchbar_SearchForm__1B87C\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1nD7J\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__18POz\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3aLsG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1vExX\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3JEbZ\"};"],"sourceRoot":""}